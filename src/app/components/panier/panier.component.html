<app-boxclient #header></app-boxclient>
<app-sidebar></app-sidebar>

<div class="panier-contener">

    <div class="row">

        <div class="col-8 divisionProduits">
            <mat-accordion>
                <mat-expansion-panel [expanded]="step === 0">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Vos paniers
                    </mat-panel-title>
                    <mat-panel-description>
                      Les produits selectionnés
                    </mat-panel-description>
                  </mat-expansion-panel-header>
              
                  <div class="contenu_global">
                      <div class="content_panier_produit" *ngFor="let p of panierTotal">
                        <div class="image_box">
                            <div class="img">
                              <img src="../../../assets/images/your-logo-png-8.png" alt="" width="100%">
                            </div>
                        </div>
                        <div class="desc_box" style="height: 100px;">

                          <p class="prix_panier">
                            p U: {{p.prix}} Ar
                          </p>

                            <h4 class="title_panier">
                              {{p.title}}
                            </h4>

                            <p class="prix_panier_total">
                              p T: {{p.prixProduitPanier}} Ar
                            </p>

                            <p class="desc_panier">
                              {{p.description}}
                            </p>
                         
                            <div class="button_box">
                                <div class="quantity_button">
                                    <div class="row" style="margin-top: 5px;">
                                        <div class="col-4">
                                          <span class="material-icons" (click)="removeQuantity(p.id_produit)">
                                            remove_circle_outline
                                          </span>
                                        </div>
                                        <div class="col-4">
                                            {{p.quantiteProduitPanier}}
                                        </div>
                                        <div class="col-4">
                                          <span class="material-icons" (click)="addQantity(p.id_produit)">
                                            add_circle_outline
                                          </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="favoris_button">
                                  <span class="material-icons panierIconButton">
                                    favorite
                                  </span>
                                  <p class="txt_ajouterFavoris">
                                    Ajouter au favoris
                                  </p>
                                </div>
                                <div class="delete_button" (click)="removeFromPanier(p.id_produit);header.getPanier();home.modifierIcon(p.id_produit)">
                                  <span class="material-icons panierIconButton">
                                    delete
                                    </span>
                                    <p class="txt_enlever_panier">
                                      Enlever du panier
                                    </p>
                                </div>

                            </div>
                        </div>
                      </div>
                  </div>
           

                </mat-expansion-panel>

                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Adresse
                    </mat-panel-title>
                    <mat-panel-description>
                      votre adresse pour la livraison
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <div class="adress-container">
                    <div class="top-section row cadre" 
                    [ngStyle]="{'background-color':bgStyle==='1' ? '#e7e7e7' : 'white' , 'opacity':bgStyle==='1' ? '1' : '0.5'}">
                      <div class="col-sm-1 custom-radio-wrap">
                        <div class="form-group">
                          <input type="radio" id="top" name="custom-radio-btn" [value]="1" [checked]="bgStyle==='1'" 
                          (click)="displayBgStyle($event)">
                          <label class="custom-radio" for="top"></label>
                          <p class="actuel">Actuelle</p>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="form-row">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Pays</label>
                          <div class="col-sm-8 libelle">
                              Madagascar
                          </div>
                      </div>
                      <div class="form-row mt-2">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Ville</label>
                          <div class="col-sm-8 libelle">
                              Antananarivo
                          </div>
                      </div>
                      <div class="form-row mt-2">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Code postal</label>
                          <div class="col-sm-8 libelle">
                              101
                          </div>
                      </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-input">
                          <label class=" col-form-label col-form-label-sm top-adresse">Adresse</label>
                          <div class="libelle-adresse">
                              B225 Cité Tsaramandroso 
                          </div>
                      </div>
                      </div>
                    </div>
                    <div class="bottom-section row cadre"
                     [ngStyle]="{'background-color':bgStyle==='0' ? '#e7e7e7' : 'white' , 'opacity':bgStyle==='0' ? '1' : '0.5'}">
                      <div class="col-sm-1 custom-radio-wrap">
                        <div class="form-group">
                          <input type="radio" id="bottom" name="custom-radio-btn" [value]="0"
                           [checked]="bgStyle==='0'" 
                          (click)="displayBgStyle($event)">
                          <label class="custom-radio" for="bottom"></label>
                          <p class="autre">Autre</p>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div class="form-row">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Pays <span class="text-danger">*</span></label>
                          <div class="col-sm-8">
                            <input type="text" class="form-control input_change" [attr.disabled]="disabled ? '' : null"
                            [ngStyle]="{'background-color':disabled===true ? 'white' : 'white'}">
                          </div>
                      </div>
                      <div class="form-row mt-2">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Ville <span class="text-danger">*</span></label>
                          <div class="col-sm-8">
                            <input type="text" class="form-control input_change" [attr.disabled]="disabled ? '' : null"
                            [ngStyle]="{'background-color':disabled===true ? 'white' : 'white'}">
                          </div>
                      </div>
                      <div class="form-row mt-2">
                          <label class="col-sm-4 col-form-label col-form-label-sm">Code postal <span class="text-danger">*</span></label>
                          <div class="col-sm-8">
                            <input type="number" class="form-control input_change" [attr.disabled]="disabled ? '' : null"
                            [ngStyle]="{'background-color':disabled===true ? 'white' : 'white'}">
                          </div>
                      </div>
                      </div>
                      <div class="col-sm-5">
                        <div class="form-group">
                          <label class="col-form-label adress">
                              Adresse <span class="text-danger">*</span>
                          </label>
                          <textarea class="form-control input_change" [attr.disabled]="disabled ? '' : null" 
                          [ngStyle]="{'background-color':disabled===true ? 'white' : 'white'}"></textarea>
                      </div>
                      </div>
                    </div>
                  </div>
                </mat-expansion-panel>

                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        Mode de payment
                      </mat-panel-title>
                      <mat-panel-description>
                        Payment methode ici
                      </mat-panel-description>
                    </mat-expansion-panel-header>


                    <p>Payment methode ici</p>


                  </mat-expansion-panel>
              </mat-accordion>
              
        </div>
        <div class="col-4 divisionPrix">
            <div class="content_total">
              <div class="recap_title">
                Récapitulatif
              </div>

              <div class="total">

                <div class="each_content">
                  <div class="txtTotal">
                    Total
                  </div>
                  <div class="montantTotal">
                    {{prixTotal}} Ariary
                  </div>
                </div>
                <div class="each_content">
                  <div class="txtService">
                    Service
                  </div>
                  <div class="montantService">
                    {{service}} Ariary
                  </div>
                </div>
                <div class="each_content">
                  <div class="txtTransport">
                    Transport
                  </div>
                  <div class="montantTransport">
                    {{transport}} Ariary
                  </div>
                </div>

                <div class="content_net">
                  <div class="txtNetPayer">
                    Net à payer
                  </div>
                  <div class="montantNet">
                    {{netPayer}} Ariary
                  </div>
                </div>



              </div>

            </div>
        </div>

    </div>



</div>



<!-- <button mat-button class="button_card" (click)="home.modifierIcon()">
<span class="material-icons icon_card">
    shopping_cart
</span>
</button> -->



<app-home #home></app-home>